<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exercise #19 || Parallax animation</title>

    <!-- Reset -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/modern-normalize@2.0.0/modern-normalize.min.css"
    />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cormorant+Unicase:wght@500&family=Lato:wght@300;400&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="exercise-19.css" />
  </head>
  <body>
    <section id="hero">
      <!-- Air -->
      <div id="background-wrapper">
        <div id="ls-bg-1" data-speed="0.2"></div>
        <div id="ls-bg-2" data-speed="1.4"></div>
        <div id="ls-bg-3" data-speed="2.8"></div>
        <div id="ls-bg-4" data-speed="4"></div>
        <div id="ls-bg-5" data-speed="5"></div>
        <div id="ls-bg-6" data-speed="6"></div>
        <div id="ls-bg-7" data-speed="8"></div>
      </div>
      <!-- End Air -->

      <header id="main-header">
        <a href="/"><img src="images/logo-ww.svg" alt="Logo" /></a>

        <nav>
          <ul>
            <li><a href="#">Login</a></li>
            <li><a href="#">Sign up</a></li>
          </ul>

          <button id="menu-button">
            <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
              <rect
                width="40"
                height="40"
                rx="20"
                fill="white"
                fill-opacity="0.1"
              />
              <path
                d="M12.9719 16H25C25.5531 16 26 15.5531 26 15C26 14.4469 25.5531 14 25 14H12.9719C12.4478 14 12 14.4478 12 14.9719C12 15.4959 12.4478 16 12.9719 16ZM27 19H14.9719C14.4478 19 14 19.4469 14 20C14 20.5531 14.4478 21 14.9719 21H26.9719C27.5531 21 28 20.5531 28 20C28 19.4469 27.5531 19 27 19ZM25 24H12.9719C12.4478 24 12 24.4469 12 24.9719C12 25.4969 12.4478 26 12.9719 26H25C25.5531 26 26 25.5531 26 25C26 24.4469 25.5531 24 25 24Z"
                fill="white"
                fill-opacity="0.6"
              />
            </svg>
          </button>
        </nav>
      </header>
    </section>

    <section id="stories">
      <header>
        <h1>Embark on a journey into the heart of nature.</h1>
        <div class="divider"></div>
        <p class="lead">
          From the howls of wolves under the moonlit sky to the ancient secrets
          of the mountains and valleys, explore stories that bring the
          wilderness to life.
        </p>
      </header>

      <div class="story-list">
        <div class="story">
          <h2>The Howl of the Midnight Wolf</h2>
          <p>
            In the heart of the dense forest, where the moonlight barely touches
            the ground, a lone wolf's howl pierces the night. It is said that
            this is no ordinary wolf, but a guardian of ancient secrets, calling
            out to those brave enough to uncover the mysteries of the
            wilderness...
          </p>
          <a href="#">Read Full Story</a>
        </div>
        <div class="story">
          <h2>Whispers of the Forgotten Valley</h2>
          <p>
            Nestled between towering peaks lies a valley shrouded in mist and
            legend. Travelers speak of voices carried on the wind, a language
            not spoken by any living creature. These whispers tell tales of a
            time when the earth was young and nature's magic flowed freely...
          </p>
          <a href="#">Read Full Story</a>
        </div>
      </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.27/bundled/lenis.min.js"></script>
    <script>
      // Air

      const backgroundWrapper = document.querySelector("#background-wrapper");
      const lsBg = backgroundWrapper.querySelectorAll('div[id*="ls-bg-"]');

      const bgTl = gsap.timeline({
        scrollTrigger: {
          trigger: backgroundWrapper,
          start: "top top",
          scrub: true,
        },
      });

      lsBg.forEach((bg) => {
        const bgSpeed = bg.getAttribute("data-speed");

        bgTl.to(
          bg,
          {
            y: 40 * bgSpeed,
            duration: 2,
          },
          0
        );
      });

      // End Air

      // Lenis - smooth scrolling
      const lenis = new Lenis();

      lenis.on("scroll", ScrollTrigger.update);

      gsap.ticker.add((time) => {
        lenis.raf(time * 1000);
      });

      gsap.ticker.lagSmoothing(0);
    </script>
  </body>
</html>
